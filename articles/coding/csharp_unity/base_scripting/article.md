# Базовый скриптинг

## Методы скриптов

- Start - запускается в момент создания объекта в игре.
- Update - выполняется каждый кадр.

## 2D проект

В 2D проекте игровые элементы - это спрайты, но на них так же может действовать физика, но в двумерном пространстве. По горизонтали идет ось X, по вертикали - Y.

1. Добавим 2 спрайта - Floor и Player. Разместим игрока над полом.
2. Добавим на них компоненты коллайдер 2д. Это нужно, чтобы объекты не проходили сквозь друг друга.
3. Для Player добавим RigidBody и запустим игру.

### Установка начального положения игрока

1. Создать скрипт, в нем написать этот код

```csharp
void Start()
    {
        transform.position = new Vector2(0, 10);
    }
```

2. Повесить скрипт на Player.

### Движение игрока по прямой

1. Создать скрипт. В нем написать код.

```csharp
void Update()
    {
        transform.Translate(new Vector2(1*Time.deltaTime,0));
    }
```

2. Повесить скрипт на Player.

### Взаимодействие с другими объектами

1. Добавим новый объект и назовем его Bonus - это будет что-то типа жизней или монет - да все, что угодно.
2. Создадим новый скрипт и повесим его на Bonus.

```csharp
public GameObject PlayerForDestroy;
void Update()
{
    if (PlayerForDestroy.transform.position.x>= transform.position.x)
    {
        Debug.Log("Бонус взят!");
    }
}
```

Обратите внимание на то, как мы объявили переменную. public указывает на то, что переменную можно менять в инспекторе.
3. В инспекторе бонуса видим скрипт, а в нем есть поле, которое называется так, как и переменная. Теперь перетащем префаб игрока в это поле. 

При запуске игры видим появившееся сообщение при достижении игрока центра богуса.

### OnTrigger и OnCollision

Обработка событий столкновений и взаимодействий.

#### OnCollisionEnter2D

Создадим скрипт и повесим его на игрока. При запуске игры увидим сообщение при столкновении игрока с другими телами.

```csharp
void OnCollisionEnter2D(Collision2D col)
{
    Debug.Log("Finish");
}
```

#### OnTriggerEnter2D

Нижеприведенный скрипт нужно закинуть на объект, который будет триггером, например бонус. В объекте должен быть коллайдер, а в нем поставлена галочка Is Trigger.

```csharp
void OnTriggerEnter2D(Collider2D other)
{
    Debug.Log("Finish");
}
```

### Коррутины
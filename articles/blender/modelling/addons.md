# Аддоны

## Содержание
- TexTools
- LoopTools
- F2
- Sapling Tree Gen
- Rigify
- RetopoFlow
- ANT Landscape

## TexTools

**TexTools** - аддон, расширяющий возможности текстурирования, развертывания и запекания. Чтобы получить доступ, нужно перейти в **UV Editing** и нажать **N**. Далее выбрать вкладку **TexTools**.

### Изменение размера текстур

Сразу при открытии аддона - в вкладке **TexTools**, есть параметр, с помощью которого можно изменить размеры уже загруженной текстуры или же установить размер для запекаемой текстуры. Нажав на **Reload Textures**, можно сбросить все манипуляции, которые были сделаны ранее с текстурами. Нажав **Checker Map**, загрузится тестовая текстура для разверток. Можно нажимать неоднократно - будут разные тестовые текстуры.

### UV Layout

В этой вкладке проводятся различные манипуляции с UV разверткой. При помощи кнопки **Crop** можно уменьшить развертку до размеров окна развертки. **Fill** растягивает развертку на ширину окна. 

#### Align Edges

Аддон позволяет легко выравнивать UV сетку. Выделите нужные вершины и нажмите на соответствующую кнопку - показано в виде стрелок. Еть так же кнопки с вертикальной и горизонтальной полосой, что позволяет выровнять вершины по горизонтали или вертикали, в этом случае будет браться среднее значение всех вершин и позиционирование согласно им.

Кнопки **90 CCW** и **90 CV** поворачивают выделенный фрагмент развертки на 90 градусов по или против часовой стрелки, а **Mirror H** и **Mirror V** инвертируют по горизонтали или вертикали.

**Sort H** и **Sort V** распределяет островки развертки по горизонтали или вертикали.

**Centralize** перемещает островки, которые находятся за пределами окна к окну, а **Randomize** перемещает выделенные островки в случайное место.

**Edge Peel**. Если выделить ребра, развертка происходит всей связанной геометрии.

**Unwrap** разворачивает выделенные островки.

**Similar**. Выделяет такие же островки, что и выделенные. **Owerlap** выделяет те островки, которые были перекрыты, то есть подверглись оверлапингу. **Flipped** выделяет островки, где есть вывернутые грани.

### Baking

Здесь все отвечает за запекание - процесс переноса видимых свойств в текстуры для оптимизации.

Для простого запекания нужно выделить объект, с которого нужно запечь, выбрать тип текстуры и нажать кнопку **Bake**. Так же вверху, в вкладке TexTools, можно изменить размер изображения.

Иногда объект состоит из множества объектов, но нужно все запечь в одну текстуру. Для этого нужно выделить все объекты, в аддоне поставить галочку на **Single Texture** и нажать Bake. Перед запеканием необходимо расположить развертки так, чтобы они не перекрывали друг друга в UV Editor.

Для запекания с объекта на объект необходимо переименовать исходный объект с материалами в **highpoly** и конечный объект без материалов в **lowpoly**. Далее нужно, чтобы объекты располагались в одном месте. После этого **выделить highpoly, а затем lowpoly и нажать Bake**.

## LoopTools

**LoopTools** - встроенный аддон, который упрощает многие операции в режиме редактирования. Аддон активируется из режима редактирования, если нажать **ПКМ** и выбрать **LoopTools**. В выпадающем меню будут инструменты аддона.

### Bridge

Позволяет соединить 2 петли ребер. По умолчанию, если есть между выделенными ребрами грани, они удалятся.

**Параметры**. **Segments** - отвечает за количество сегментов между петлями ребер. Можно сказать, что это количество лупкатов моста соединяющего петли ребер. **Strength** - интервал между лупкатами. Их можно либо сжать к центру или наоборот растянуть. **Remove Faces** - удаление граней между выделенными лупкатами.

### Circle

Преобразует выделенную петлю ребер в округлую форму. Можно создавать круглые отверстия с помощью этого инструмента.

**Параметры**. **Methods** - есть 2 метода. **Fit inside** старается сохранить топологию, а **Best Fit** преобразует в круг в соответствии с расположением выделенных вершин. **Flatten** как раз отвечает за сглаживание, что создает окружность. **Radius** отвечает за радиус окружности. **Regular** - если выбран этот параметр, все вершины окружности будут находиться на одинаковом расстоянии между собой. **Angle** - угол между ребрами. Ниже можно заблокировать оси, на которые инструмент не будет оказывать влияние. **Influence** - интенсивность воздействия инструмента.

### Flatten

Приводит выделенные участки в плоский вид. По умолчанию выбирается среднее значение положения вершин.

**Параметры**. **Plane** имеет несколько параметров - режимов гладкости. **Best Fit** как раз рассчитывает плоскость на основе среднего значения положения вершин. **View** создает плоскость перпендикулярно виду окна просмотра.

### Loft

Этот инструмент похож на Bridge, но с его помощью можно соединить 2 и более петель ребер. Параметры те же, что и у Bridge, но есть параметр **Loop**, который замыкает последнюю петлю ребер с первой.

### Relax

Этот инструмент сглаживает сетку, что может быть полезно, например, в ретопологии.

**Параметры**. **Interpolation** - выбор типа рассчета положения вершин. **Input** - если выбрано **Selection**, рассчет будет производиться на основе выделенных вершин. Если выбрать **Parallel**, рассчет будет производиться и на основе параллельно расположенных вершин. **Iterations** - количество запусков инструмента. Чем больше значение тем больее гладкий получится результат. **Regular** - если выбран этот параметр, вершины будут располагаться равномерно.

### Space

Этот инструмент старается распределить вершины равномерно. Параметры знакомые по предыдущим инструментам.

### Gstretch

Этот инструмент как-то выравнивает вершины, но пока на этом все. В будущем материал по аддону будет дополняться.

## F2

**F2** - встроенный аддон, который расширяет функциональность для создания граней из вершин или же ребер. Для использования аддона необходимо выделить нужное в режиме редактирования и нажать клавищу **F**, а конкретно о том, что выделять, будет написано далее.

### Создание граней из вершин

Для этого необходимо выделить вершину, к которой примыкают 2 грани и нажать F - будет создана грань с тремя неподвижными вершинами, а четвертую можно двигать.

### Создание граней из ребер

Для этого необходимо выделить ребро, вершины которого образуют ребра и нажать F.

## Sapling Tree Gen

Этот аддон служит для создания деревьев на основе кривых. Аддон так же является встроенным. Для создвния дерева необходимо в объектном режиме перейти в меню добавления объектов, в разделе с кривыми выбрать **Sapling Tree Gen**. Появится дерево и меню настроек, о котором пойдет речь далее.

### Geometry

**Bevel** - добавить толщину кривой.  
**Bevel Resolution** - сколько подразделений в обхвате. Чем больше, тем более округлыми будут ветви и ствол.  
**Curve Resolution** - количество дополнительных подразделений кривой. Чем больше, тем менее грубые места изгибов.  
**Handle Type** - метод интерполяции кривой между точками безье. **Vector** - более простой просчет, **Auto** - сложнее, геометрия становится более гладкой, но и более тяжеловесной.  
**Shape** - управляет распределением ветвей, что влияет на форму дерева.  
**Custom Shape** - здесь вручную можно задать параметры формы. Чтобы видеть изменения в Shape должно быть **Custom Shape**.  
**Secondary** - изменяет форму второстепенных ветвей.  
**Branch Distribution** - распределяет большую часть ветвей вверх или вниз.  
**Branch Rings** - так же влияет на форму ветвей.  
**Random Seed** - генерирует случайное расположение ветвей.  
**Tree Scale** - **Scale** - размер дерева. **Scale Variant** - вариация размера дерева.  
**Preset** - здесь можно задать имя пресета и экспортировать его, нажав **Export Preset**.  
**Load Preset** - выбрать пресет.  

### Branch Radius

Здесь собраны параметры радиуса ветвей.

**Bevel Resolution** - сколько подразделений в обхвате. Чем больше, тем более округлыми будут ветви и ствол.  
**Ratio** - базовый радиус.  
**Radius Scale** - этот параметр отвечает за радиус ствола. Влияет так же и на радиус ветвей.  
**Radius Scale Variation** - изменение шкалы радиуса. Вроде как множитель.  
**Branch Radius Ratio** - сила определяющая радиус ветки исходя из радиуса ветки, из которой она прорастает.  
**Minimum Radius** - минимальный радиус ветки.  
**Close Tip** - установить нулевой радиус на концах веток.  
**Root Flare** - радиус корня.  
**Auto Taper** - автоматический рассчет конусности на основе длины ветвей.  
**Taper** и **Tweak Radius** - различные кастомные настройки радиуса ветвей.  

### Branch Splitting

Эти настройки отвечают за разделение ветвей, форму разделения и положения разделения.

**Levels** - рекурсивное количество разделений веток.  
**Base Splits** - количество подразделений ствола у его основания.  
**Trunk Height** и **Secondary Base Size** - еще одна пара настроек разветвления ветвей.  
**Split Height** - высота базового разделения дерева.  
**SplitBias** - больше разветвлений вверху или внизу дерева.  

#### Кастомные настройки

**Branches** - количество ветвей на каждом уровне.  
**Segment Splits** - количество разделений на сегмент.  
**Split Angle** - угол разделения ветвей.  
**Split Angle Variant** - вариация угла разделения.  
**Rotate Angle** - угол новой ветки вокруг той, из которой она выросла.  
**Rotate Angle Variation** - вариация угла поворота.  
**Outward Attraction** - внешняя привлекательность ветки.  
**Branching Mode** - режим расположения ветвей.  
**Curve Resolution** - количество сегментов на каждой ветке.  

### Branch Growth

 Эти настройки отвечают за рост ветки. Можно настроить длину, кривизну и угол.
 
 #### Кастомные настройки
 
**Taper Crown** - укорачивает срезы ствола по направлению к внешней стороне дерева.  
**Length** - относительные длины каждого уровня ответвлений.  
**Length Variation** - вариация относительной длины каждого уровня ответвлений.  
**Down Angle** - угол между новой ветвью и той, из которой она выросла.  
**Down Angle Variation** - вариация угла между новой ветвью и той, из которой она выросла.  
**Curvature** - угол окончания ветки.  
**Curvature Variation** - вариация угла окончания ветки.  
**Back Curvature** - кривизна для второй половины ветви.  
**Vertical Attraction** - вертикальное притяжение.  

**Use old down angle variation** - использовать старый вариант наклона вниз.  
**Use parent Angle** - использовать углы родительских веток.

### Pruning

Эти настройки отвечают за охват веток.

**Prune** - визуально показать охват.  
**Prune Ratio** - соотношение охвата.  
**Prune Width** - ширина охвата.  
**Prune Base** - высота охвата.  
**Prune Width Peak** - доля высоты, на которой достигается максимальная ширина охвата.  
**Prune Power High** - сила определяющая форму верхней части оболочки.  
**Prune Power Low** - сила определяющая форму нижней части оболочки.  

### Leaves

Здесь находятся параметры листвы.

**Show Leaves** - добавить листья.  
**Leaf Shape** - форма листа.  
**Leaf Object** - объект для создания экземпляра листа, если **Leaf Shape=DupliFaces** или **DupliVerts**. Применяется, если нужно распределить вместо листьев по умолчанию другие объекты, например текстуру или еще что-нибудь. **ПРИМЕЧАНИЕ!** Необходимо, чтобы в сцене был объект, который нужно распределить!
**Leaves** - максимальное количество листьев на ветку.  
**Leaf Distribution** - как листья распределяются по веткам.  
**Leaf Down Angle** - угол между листом и веткой, из которой он вырос.  
**Leaf Down Angle Variation** - вариация угла между листом и веткой, из которой он вырос.  
**Leaf Rotate Angle** и **Leaf Rotate Angle Variation** - еще одна настройка, пока что до конца не понятная.  
**Leaf Scale** - размер листьев.  
**Leaf Scale X** - масштабирование по X.  
**Leaf Scale Taper** - к концу ветви листья большего размера или наоборот.  
**Leaf Scale Variation** - вариация размеров листьев.  
**Horizontal Leaves** - листья обращены вверх. Эту настройку желатеотно отключать.  
**Leaf Angle** - сила притяжения листьев к земле.  

### Armature

На деревья можно делать скелеты и анимировать. Собственно эти настройки относятся именно к костям.

**Use Armature** - добавить скелет к существующему дереву.  
**Make Mesh** - преобразует кривую в меш и добавляет модификатор Skin.  
**Armature Levels** - количество уровней ветвления. Если поставить 0, то будут учитываться все уровни ветвления.  
**Bone Length** - кастомные настройки костей.  

### Animation

Здесь все настройки отвечают за анимацию дерева и листьев.

1. Для начала нужно настроить все остальные вкладки, а уже потом переходить к анимации.
2. Добавить риг дереву в вкладке Armature.
3. Перейти в вкладку **Animation** и активировать **Armature Animation** для анимации дерева и **Leaf Animation** для анимации листвы.
4. Активировав **Fast Preview**, можно ускорить анимацию.

**Animation Speed** - скорость анимации.  
**Loop Frames** - сколько кадров будут повторяться. Если выставить 0, то будут проигрываться все кадры, если 2, например, то будет проигрываться только 1 и 2 кадр циклично.  
**Wind Settings**  
**Overal Wind Strength** - общая сила ветра.  
**Wind Gust** - порыв ветра.  
**Leaf Wind Settings**  
**Amplitude** - амплитуда колебаний листьев.  
**Frequency** - частота колебаний листьев.  
**Randomness** - случайность движений.  

## Rigify

Rigify - встроенный аддон, служащий для автоматического создания ригов. Стоит отметить, что аддон только создает риг и элементы управления. Привязывать скелет к персонажу придется все равно вручную. После того как генерация Rigify будет произведена, аддон по сути больше не нужен - это говорит о том, что риг будет так же работать и без аддона.

### Базовое добавление рига

1. В объектном режиме нажать Shift A/Armature/Basic/Basic Human.
2. Перейти в режим редактирования и сопоставить все кости с персонажем.
3. Нажать Shift N Y.
4. Перейти в объектный режим. В окне Priperties перейти в Object Data Properties и нажать Generate Rig.
5. Новый риг привязать к мешу.

## RetopoFlow

Аддон помогает в ретопологии.

### Первые шаги

1. Переключиться в объектный режим.
2. Выделить объект, с которого будет создаваться ретопология, далее, в верхней панели, щелкнуть **RetopoFlow**. Далее нажать **at Active**. Какое-то время будет загрузка и появится новый интерфейс.

### Как вновь перейти к прошлой ретопологии?

1. Перейти в режим редактирования, нажать там **RetopoFlow**.
2. Нажать **Open Last Auto Save**.
3. Рядом с RetopoFlow появится активный для нажатия **треугольник**. Нажать на него.

### Инструменты

#### Contours

С ним проще делать ретопологию на цилиндрических объектах.

![img](http://docs.retopoflow.com/help_contours.png)

**Ctrl ЛКМ** - создать контур.  
**Shift КМ** - увеличить или уменьшить количество сегментов в выбранном цикле.  
**2ЛКМ** - выделить луп.  
**2ЛКМ на пустом месте** - снять привязку с предыдущего лупа.  
**F** - соединить 2 лупа. Аналог Bridge.  

#### PolyStrips

Этот инструмент позволяет создавать топологию из линий, что бывает необходимо при сложной ретопологии.

![img](http://docs.retopoflow.com/help_polystrips.png)

**Ctrl ЛКМ** - нарисовать линию топологии.  
**F** - изменить размер кисти.  
**Зажать ЛКМ и переместить** - переместить выбранный квад.  
**Shift КМ** - увеличить или уменьшить количество сегментов.  
**Ctrl Shift ЛКМ** - выбрать полосу полигонов. Аналог Ctrl в режиме редактирования, когда выделяется линия между полигоном А и полигоном Б.  

#### Strokes

При помощи этого инструмента можно заполнять области. Я рекомендую выделять двойным ЛКМ линию ребер и потом уже рисовать линию - между линией и выделенными ребрами образуется мост из квадов.

![ing](http://docs.retopoflow.com/help_strokes.png)

**2ЛКМ** - выделить линию ребер.  
**Ctrl ЛКМ** - нарисовать конечную линию ребер. Если сначала выделить линию ребер, а потом нарисовать данным способом линию, между ними будет мост из квадов. Если просто нарисовать одну линию, а потом другую, то мост будет сделан между ними.  
**ЛКМ Drag** - выделить ребра.  
**Ctrl Shift ЛКМ** - создать полосу выделенных ребер между ребром А и ребром Б.  

#### PolyPen

Позволяет строить сложную и более контролируемую топологию. Можно делать не только квады, но и многоугольники, а так же можно строить топологию исходя из вершин соседней топологии.

![img](http://docs.retopoflow.com/help_polypen.png)

Горячие клавиши примерно те же, что и ранее. Удерживайте **Ctrl**, и жмите **ЛКМ**, чтобы создавать вершины. 

Нажав **Shift Q**, можно перейти в расширенные параметры инструмента.

#### knife

Представляет из себя нож аналогичный стандартному ножу Blender. Стоит отметить, что Knife будет резать уже имеющуюся геометрию и не будет создавать новые вершины, ребра или грани.

![img](http://docs.retopoflow.com/help_knife.png)

#### Loops

Инструмент выполняет те же функции, что и лупкаты в Blender.

![img](http://docs.retopoflow.com/help_loops.png)

#### Tweak

Позволяет корректировать положение вершин при помощи удобной кисти.

![img](http://docs.retopoflow.com/help_tweak.png)

**F** - изменить размер кисти.  
**Shift F** - изменить силу кисти.  
**Ctrl F** - изменить Fallof кисти.  

#### Relax

С его помощью можно равномерно распределить вершины при помощи удобной кисти.

![img](https://docs.retopoflow.com/help_relax.png)

**F** - изменить размер кисти.  
**Shift F** - изменить силу кисти.  
**Ctrl F** - изменить Fallof кисти.  



## ANT Landscape

Этот аддон предназначен для создания процедурных ландшафтов. Доступ к аддону можно получить, если нажать N в окне вьюпорта и перейти в вкладку Create. Если перейти, то можно увидеть 2 пункта. Landscape - тут можно создать новый ландшафт. Landscape Tools - тут можно изменять готовый меш.

Перейдя в Landscape и создав новый меш, станут доступны новые пункты. В Landscape Tools доступны следующие подпункты: Mesh Displace добавляет дисплейс на созданный ландшафт: Weight From Slope добавляет группу вершин на ландшафт, кстати, весьма неплохую: Landscape Eroder добавляет эрозию ландшафту. Landscape Main - здесь содержатся основные настройки ландшафта, такие как режим сетки, уровень подразделений и размер ландшафта. Для применения изменений нужно нажать кнопку Regenerate. 

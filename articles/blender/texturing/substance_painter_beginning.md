# Substance Painter

Здесь пойдет речь о программе для текстурирования 3д моделей Substance Painter? и о ее основных функциях.

Перед тем как работать с моделью, ее нужно экспортировать в fbx или другой доступный формат. У модели должна быть UV развертка и можно назначить на него материал.

## Первые шаги

При открытии программы будет стартовое окно, которое можно закрыть. Для начала нужно создать новый файл, выбрать модель и разрешение файла. Можно так же выбрать один из предустановленных пресетов в вкладке Template. Может получиться так, что модель отобразится не в привычном 3д виде. Чтобы это исправить, нужно перейти в правую часть сверху (там еще есть включение и отключение симметрии и кнопка с иконкой паузы) и переключить в 3D Only.

Настройка освещения. Для этого нужно перейти в вкладку Display Settings. Находится она в самой правой стороне - в вертикальных вкладках. При нажатии на нее откроется окно, где нужно обратить внимание на Enviromment Settings. В Enviromment Map можно выбрать HDRI, в Enviromment Opacity можно настроить уровень прозрачности, в Enviromment Exposure можно настроить яркость HDRI, Enviromment Rotation отвечает за вращение HDRI, Enviromment Blur отвечает за размытие HDRI. Shadows отвечает за тени. Computation Mode отвечает за режим вычисления теней, Shadows Opacity - прозрачность теней.

### Окна

Как и Blender Substance Painter состоит из окон, с которыми можно производить различные манипуляции, например, закрывать, перемещать, добавлять новые или же изменять размер. Неоткрытые окна доступны в правой панели. Ранее мы уже познакомились с одним из окон - Display Settings.

TEXTURE SET LIST - здесь перечислены материалы объекта.  
TEXTURE SET SETTINGS - здесь перечислены некоторые настройки текстуры, а так же некоторая информация о свойствах материалов в CHANNELS. Здесь есть поле Shader Instance, где можно сделать копию шейдера и всячески изменять ее.  
LAYERS - тут размещены слои.  
PROPERTIES - здесь как раз расположены разные свойства материала, которые можно менять, а так же свойства кисти. Здесь же можно отключить свойства для конкретных слоев, например, свойство Color не нужно на слое, который отвечает за шероховатость Rough.  
Display Settings - настройки отображения и окружения.  
Shader Settings - тонкие настройки шейдера, которые включают режим отображения, подповерхностное рассеивание и так далее.  
History - тут отображается каждое совершенное действие. Можно откатиться.  
Log - разная техническая информация.

### Слои и маски

Как и в программах графики типа Фотошопа или Гимпа, здесь тоже есть слои, и они выполняют по сути те же функции. В Substance Painter есть 2 типа слоев - paint layer представляет собой слой, на котором можно рисовать, а fill layer заполняет слой полностью. На самом деле есть маски, о которых пойдет речь дальше.

Иногда нужно нарисовать что-то на поверхности объекта, но после этого будет невозможно изменить цвет того, что было нарисовано. Использование масок решает эту проблему, давая возможность гибко настраивать все так, как нужно. 

Для примера возьмем любую модель, удалим базовый слой, который создается по умолчанию и добавим Fill Layer, назовем его Base - он будет базовым цветом. В Properties установим синий цвет. Далее создадим еще Fill Layer и назовем его Graf - этот слой будет рисовать по черному. Далее выделяем Graf и жмем Add Mask/Add black mask. Теперь, если попробовать рисовать, по синей поверхности будет зеленый рисунок. Но и это еще не все. Если выделить слой с маской, нажать ПКМ и выбрать Add Paint, то создастся слой для рисования в маске, а такие слои можно включать или выключать, что так же очень удобно.

### способ рисования Polygon Fill

До этого момента все рисование производилось кисточкой, но есть и другой способ рисования. Polygon Fill позволяет рисовать по полигонам. В свойствах можно выбрать, как именно рисовать - по полигонам, треугольникам или заполнять разом весь островок UV.

### Фильтры

Инструмент Фильтр, а точнее, его подвид Gradient похож на Coloramp в Blender.

Разберемся на простом примере. Создадим новый слой, в окне SHELF нейдем вкладку Procedurals и выберем там понравившийся шум. Далее нужно перейти в Property и перетянуть выбранный шум на Base Color. Перейти в Layers, щелкнуть ПКМ по созданному ранее слою и выбрать Add Filter. Перейти в Property и, щелкнув по новосозданному фильтру, выбрать Gradient. Далее перейти в Property и настроить как надо. Существуют и другие фильтры, у которых свои функции, но ставятся они аналогичным образом.

### Генераторы

Генераторы позволяют создавать процедурные карты, например для грязи. Чтобы добавить генератор, нужно щелкнуть ПКМ по слою или маске и выбрать Add Generator, далее перейти в Property и создать генератор. Далее регулировать ползунками.

### Экспорт текстур

После того, как все работы завершены, можно экспортировать все нужные карты для дальнейшего использования. Для этого нужно перейти в File/Export Textures. После этого откроется окно с вкладками. В первой вкладке можно выбрать какие материалы экспортировать, а так же настроить формат и разрешение текстур, а так же их расположение. Во второй вкладке можно выбрать, какие карты экспортировать, а в третьей показана информация о картах, которые будут экспортированы.